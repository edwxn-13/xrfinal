(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))l(o);new MutationObserver(o=>{for(const n of o)if(n.type==="childList")for(const i of n.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&l(i)}).observe(document,{childList:!0,subtree:!0});function r(o){const n={};return o.integrity&&(n.integrity=o.integrity),o.referrerPolicy&&(n.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?n.credentials="include":o.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function l(o){if(o.ep)return;o.ep=!0;const n=r(o);fetch(o.href,n)}})();async function te(e){const t=new BABYLON.Scene(e.getEngine()),r=new BABYLON.FreeCamera("camera1",new BABYLON.Vector3(0,1,-5),t);if(r.setTarget(BABYLON.Vector3.Zero()),r.attachControl(e.getCanvas(),!0),!await(navigator.xr?.isSessionSupported?.("immersive-ar")??!1))return alert("AR not supported on this device."),t;text1.text=`WebXR Demo: Tap on the blue marker to place a red sphere.
Use the slider below to change its size before placing.`;const o=await t.createDefaultXRExperienceAsync({uiOptions:{sessionMode:"immersive-ar",referenceSpaceType:"local-floor",onError:u=>alert(u)},optionalFeatures:["hit-test"]});let n;o.baseExperience.sessionManager.onXRSessionInit.add(()=>{rectangle.isVisible=!1,n&&(n.isVisible=!0)}),o.baseExperience.sessionManager.onXRSessionEnded.add(()=>{rectangle.isVisible=!0,n&&(n.isVisible=!1),d.isVisible=!1});const a=o.baseExperience.featuresManager.enableFeature(BABYLON.WebXRHitTest.Name,"latest");o.baseExperience.camera;const d=BABYLON.MeshBuilder.CreateTorus("marker",{diameter:.15,thickness:.05,tessellation:32},t);d.isVisible=!1,d.rotationQuaternion=new BABYLON.Quaternion;const c=new BABYLON.StandardMaterial("matstd",t);c.diffuseColor=new BABYLON.Color3(.4,.8,1),d.material=c;const s=BABYLON.MeshBuilder.CreateSphere("sphere",{diameter:1},t);s.isVisible=!1,s.rotationQuaternion=new BABYLON.Quaternion,s.scaling.set(1,1,1);const p=new BABYLON.StandardMaterial("sphereMat",t);p.diffuseColor=new BABYLON.Color3(1,0,0),p.emissiveColor=new BABYLON.Color3(.2,0,0),s.material=p,n=new BABYLON.GUI.StackPanel,n.width="90%",n.isVisible=!1,n.verticalAlignment=BABYLON.GUI.Control.VERTICAL_ALIGNMENT_BOTTOM,n.horizontalAlignment=BABYLON.GUI.Control.HORIZONTAL_ALIGNMENT_CENTER,n.paddingBottom="40px",n.spacing="20px",advancedTexture.addControl(n);const B=new BABYLON.GUI.TextBlock;B.text="Sphere Size: 1.0",B.height="40px",B.fontSize="24px",B.color="white",n.addControl(B);const h=new BABYLON.GUI.Slider;h.minimum=.1,h.maximum=3,h.value=1,h.height="40px",h.width="100%",h.color="green",h.background="grey",h.thumbWidth="40px",n.addControl(h),h.onValueChangedObservable.add(u=>{B.text="Sphere Size: "+u.toFixed(2),s.isVisible&&s.scaling.set(u,u,u)});let A;return a.onHitTestResultObservable.add(u=>{u.length?(d.isVisible=!0,A=u[0],A.transformationMatrix.decompose(void 0,d.rotationQuaternion,d.position)):(d.isVisible=!1,A=void 0)}),t.onPointerDown=()=>{if(A&&d.isVisible&&o.baseExperience.state===BABYLON.WebXRState.IN_XR){s.isVisible=!0,s.position.copyFrom(d.position),s.rotationQuaternion.copyFrom(d.rotationQuaternion);const u=h.value;s.scaling.set(u,u,u)}},t.onBeforeRenderObservable.add(()=>{d.isVisible=!0}),t}function g(e=""){var t=new BABYLON.GUI.Rectangle;return t.background="white",t.cornerRadius=2,t.alpha=.5,t.isPointerBlocker=!0,t.paddingTopInPixels=20,t.fontFamily="Helvetica, Arial, sans-serif",t.thickness=2.2,t}function V(e,t,r,l=g(),o={height:.5,width:.6}){var n=new BABYLON.MeshBuilder.CreatePlane("",o);const i=new he(e,t,null,n);i.rotation=new BABYLON.Quaternion,n.dispose();var a=new BABYLON.MeshBuilder.CreatePlane("",{height:.02,width:.02});a.position=new BABYLON.Vector3(o.width*.55,o.height*.5,0),a.parent=i;var d=BABYLON.GUI.AdvancedDynamicTexture.CreateForMesh(a),c=g("closebutton");d.addControl(c),c.background="red",c.onPointerEnterObservable.add(()=>{c.alpha=1}),c.onPointerOutObservable.add(()=>{c.alpha=.7}),c.onPointerDownObservable.add(()=>{i.dispose()});var s=new BABYLON.MeshBuilder.CreatePlane("",{height:o.height/2,width:.01});s.position=new BABYLON.Vector3(o.width*.55,0),s.parent=i;var p=BABYLON.GUI.AdvancedDynamicTexture.CreateForMesh(s),B=g();p.addControl(B);var h=new BABYLON.GUI.Slider("yaw");h.maximum=.05,h.minimum=-.05,h.value=1,h.isVertical=!0,h.onValueChangedObservable.add(()=>{i.rotate(new BABYLON.Vector3(0,0,1),h.value),console.log(h.value)}),p.addControl(h);var A=new BABYLON.MeshBuilder.CreatePlane("",{height:o.height/2,width:.01});A.position=new BABYLON.Vector3(-o.width*.55,0),A.parent=i;var u=BABYLON.GUI.AdvancedDynamicTexture.CreateForMesh(A),w=g();u.addControl(w);var C=new BABYLON.GUI.Slider("pitch");C.maximum=.05,C.minimum=-.05,C.value=1,C.isVertical=!0,C.onValueChangedObservable.add(()=>{i.rotate(new BABYLON.Vector3(1,0,0),C.value),console.log(C.value)}),u.addControl(C);var O=new BABYLON.MeshBuilder.CreatePlane("",{height:.05,width:o.width});O.position=new BABYLON.Vector3(0,o.height*.55,0),O.parent=i;var Y=BABYLON.GUI.AdvancedDynamicTexture.CreateForMesh(O),b=g();Y.addControl(b);var L=new BABYLON.MeshBuilder.CreatePlane("",{height:.01,width:o.width/2});L.position=new BABYLON.Vector3(0,-o.height*.55,0),L.parent=i;var N=BABYLON.GUI.AdvancedDynamicTexture.CreateForMesh(L),_=g();N.addControl(_);var v=new BABYLON.GUI.Slider("pitch");v.maximum=.05,v.minimum=-.05,v.value=1,v.onValueChangedObservable.add(()=>{i.rotate(new BABYLON.Vector3(0,1,0),-v.value),console.log(v.value)}),N.addControl(v);var m=new BABYLON.SixDofDragBehavior;m.disableMovement=!0;var f=new BABYLON.MultiPointerScaleBehavior;return b.onPointerDownObservable.add(()=>{m.disableMovement=!1}),b.onPointerUpObservable.add(()=>{m.disableMovement=!0}),i.addBehavior(m),i.addBehavior(f),i.setContent(l),i}class he extends BABYLON.Mesh{#e;#t;#n;#i;constructor(t,r,l,o){super(t,r,null,o,!0,!1)}setContent(t){this.#t=t,this.#t.onPointerOutObservable.add(()=>{console.log("out")}),this.#t.onPointerEnterObservable.add(()=>{console.log("in")}),this.#e=BABYLON.GUI.AdvancedDynamicTexture.CreateForMesh(this),this.#e.isBlocking=!0,this.#e.addControl(this.#t)}setGizmo(t){this.#n=t}getDynamicTexture(){return this.#e}closeWindow(){this.dispose()}}class K extends BABYLON.Mesh{#e;#t;static createAriaVideoWindow(t,r,l,o="",n={height:.5,width:.6}){var i=new BABYLON.MeshBuilder.CreatePlane("",n);const a=new K(t,r,null,i,o);a.rotation=new BABYLON.Quaternion,i.dispose();var d=new BABYLON.MeshBuilder.CreatePlane("",{height:.02,width:.02});d.position=new BABYLON.Vector3(n.width*.55,n.height*.5,0),d.parent=a;var c=BABYLON.GUI.AdvancedDynamicTexture.CreateForMesh(d),s=g("closebutton");c.addControl(s),s.background="red",s.onPointerEnterObservable.add(()=>{s.alpha=1}),s.onPointerOutObservable.add(()=>{s.alpha=.7}),s.onPointerDownObservable.add(()=>{a.dispose()});var p=new BABYLON.MeshBuilder.CreatePlane("",{height:n.height/2,width:.01});p.position=new BABYLON.Vector3(n.width*.55,0),p.parent=a;var B=BABYLON.GUI.AdvancedDynamicTexture.CreateForMesh(p),h=g();B.addControl(h);var A=new BABYLON.GUI.Slider("yaw");A.maximum=.05,A.minimum=-.05,A.value=1,A.isVertical=!0,A.onValueChangedObservable.add(()=>{a.rotate(new BABYLON.Vector3(0,0,1),A.value),console.log(A.value)}),B.addControl(A);var u=new BABYLON.MeshBuilder.CreatePlane("",{height:n.height/2,width:.01});u.position=new BABYLON.Vector3(-n.width*.55,0),u.parent=a;var w=BABYLON.GUI.AdvancedDynamicTexture.CreateForMesh(u),C=g();w.addControl(C);var O=new BABYLON.GUI.Slider("pitch");O.maximum=.05,O.minimum=-.05,O.value=1,O.isVertical=!0,O.onValueChangedObservable.add(()=>{a.rotate(new BABYLON.Vector3(1,0,0),O.value),console.log(O.value)}),w.addControl(O);var Y=new BABYLON.MeshBuilder.CreatePlane("",{height:.05,width:n.width});Y.position=new BABYLON.Vector3(0,n.height*.55,0),Y.parent=a;var b=BABYLON.GUI.AdvancedDynamicTexture.CreateForMesh(Y),L=g();b.addControl(L);var N=new BABYLON.MeshBuilder.CreatePlane("",{height:.01,width:n.width/2});N.position=new BABYLON.Vector3(0,-n.height*.55,0),N.parent=a;var _=BABYLON.GUI.AdvancedDynamicTexture.CreateForMesh(N),v=g();_.addControl(v);var m=new BABYLON.GUI.Slider("pitch");m.maximum=.05,m.minimum=-.05,m.value=1,m.onValueChangedObservable.add(()=>{a.rotate(new BABYLON.Vector3(0,1,0),-m.value),console.log(m.value)}),_.addControl(m);var f=new BABYLON.SixDofDragBehavior,I=new BABYLON.MultiPointerScaleBehavior;return f.disableMovement=!0,L.onPointerDownObservable.add(()=>{f.disableMovement=!1}),L.onPointerUpObservable.add(()=>{f.disableMovement=!0}),a.addBehavior(f),a.addBehavior(I),r.onPointerObservable.add(function(x){x.pickInfo.pickedMesh===a&&(a.video_texture.video.paused?a.video_texture.video.play():a.video_texture.video.pause(),console.log(a.video_texture.video.paused?"paused":"playing"))},BABYLON.PointerEventTypes.POINTERPICK),a}constructor(t,r,l,o,n){super(t,r,null,o,!0,!1);var i=new BABYLON.StandardMaterial("m",r);this.video_texture=new BABYLON.VideoTexture("vidtex",n,r),this.video_texture.video.volume=1,this.video_texture.video.muted=!1,i.diffuseTexture=this.video_texture,i.roughness=1,i.emissiveColor=new BABYLON.Color3.White,this.material=i}togglePlay(){}setGizmo(t){this.#e=t}closeWindow(){this.#e.dispose(),this.dispose()}}class k extends BABYLON.GUI.Button{#e;#t;#n;#i;constructor(t){super(t,t),this.#n=new BABYLON.GUI.TextBlock,this.#n.text=t,this.addControl(this.#n),this.heightInPixels=.1*window.screen.height,this.verticalAlignment=BABYLON.GUI.Control.VERTICAL_ALIGNMENT_BOTTOM,this.thickness=0,this.#e="transparent",this.#t="white",this.cornerRadius=2,this.alpha=.32,this.background=this.#e,this.onPointerOutObservable.add(()=>{this.background=this.#e,this.#n.color="black"}),this.onPointerEnterObservable.add(()=>{this.background=this.#t,this.#n.color="white"})}setLayer(t){this.#i=t}changeText(t){this.#n.text=t}}function D(e,t){var r=BABYLON.GUI.Button.CreateSimpleButton(e,t);return r.heightInPixels=.1*window.screen.height,r.verticalAlignment=BABYLON.GUI.Control.VERTICAL_ALIGNMENT_BOTTOM,r.fontFamily="Helvetica, Arial, sans-serif",r.thickness=0,r.paddingTopInPixels=20,r}class y{constructor(t,r){this.pageFunction=t,this.name=r}}class $ extends BABYLON.GUI.Rectangle{constructor(t,r,l,o=[]){super(t),this.pages=r,this.gameEngine=l,this.name="name",this.currentPage=-1,this.thickness=0,this.cornerRadius=2,this.alpha=.32,this.args=o;var n=g();n.height=.08,n.verticalAlignment=BABYLON.GUI.Control.VERTICAL_ALIGNMENT_TOP;var i=new k("header","click to move");i.onPointerDownObservable.add(()=>{}),n.addControl(i),this.buttonContainer=g(),this.buttonContainer.width=.3,this.buttonContainer.horizontalAlignment=BABYLON.GUI.Control.HORIZONTAL_ALIGNMENT_LEFT,this.buttonContainer.alpha=1,this.contentContainer=g(),this.contentContainer.width=.68,this.contentContainer.horizontalAlignment=BABYLON.GUI.Control.HORIZONTAL_ALIGNMENT_RIGHT,this.contentContainer.alpha=1;var a=new BABYLON.GUI.StackPanel("MenuStack");for(let s=0;s<this.pages.length;s++){var d=new k(this.pages[s].name,this.pages[s].name);d.heightInPixels=90,d.onPointerUpObservable.add(()=>{this.navigation(s)}),a.addControl(d)}var c=new BABYLON.GUI.Grid("Grid");c.addControl(a),this.buttonContainer.addControl(c),this.addControl(this.buttonContainer),this.addControl(this.contentContainer)}navigation(t){if(console.log(t),this.currentPage==t){console.log("cancelled");return}this.contentContainer.clearControls(),this.currentPage=t,this.contentContainer.addControl(this.pages[t].pageFunction(this.args,this.gameEngine))}}async function Be(e){const t=new BABYLON.Scene(e.getEngine());t.clearColor=new BABYLON.Color3(1,.8,0);var r=new BABYLON.FreeCamera("camera1",new BABYLON.Vector3(0,1,-5),t);return r.setTarget(BABYLON.Vector3.Zero()),r.attachControl(e.getCanvas(),!0),new BABYLON.HemisphericLight("light1",new BABYLON.Vector3(0,1,0),t),t}class Z extends BABYLON.Mesh{#e;#t;#n=0;#i;static createAriaPdfWindow(t,r,l,o=["/src/assets/AriaChatAttachments/tech1.jpg","/src/assets/AriaChatAttachments/tech2.jpg"],n={height:.8,width:.566}){var i=new BABYLON.MeshBuilder.CreatePlane("",n);const a=new Z(t,r,null,i,o);a.rotation=new BABYLON.Quaternion,i.dispose();var d=new BABYLON.MeshBuilder.CreatePlane("",{height:.02,width:.02});d.position=new BABYLON.Vector3(n.width*.55,n.height*.5,0),d.parent=a;var c=BABYLON.GUI.AdvancedDynamicTexture.CreateForMesh(d),s=g("closebutton");c.addControl(s),s.background="red",s.onPointerEnterObservable.add(()=>{s.alpha=1}),s.onPointerOutObservable.add(()=>{s.alpha=.7}),s.onPointerDownObservable.add(()=>{a.dispose()});var p=new BABYLON.MeshBuilder.CreatePlane("",{height:n.height/2,width:.01});p.position=new BABYLON.Vector3(n.width*.55,0),p.parent=a;var B=BABYLON.GUI.AdvancedDynamicTexture.CreateForMesh(p),h=g();B.addControl(h);var A=new BABYLON.GUI.Slider("yaw");A.maximum=.05,A.minimum=-.05,A.value=1,A.isVertical=!0,A.onValueChangedObservable.add(()=>{a.rotate(new BABYLON.Vector3(0,0,1),A.value),console.log(A.value)}),B.addControl(A);var u=new BABYLON.MeshBuilder.CreatePlane("",{height:n.height/2,width:.01});u.position=new BABYLON.Vector3(-n.width*.55,0),u.parent=a;var w=BABYLON.GUI.AdvancedDynamicTexture.CreateForMesh(u),C=g();w.addControl(C);var O=new BABYLON.GUI.Slider("pitch");O.maximum=.05,O.minimum=-.05,O.value=1,O.isVertical=!0,O.onValueChangedObservable.add(()=>{a.rotate(new BABYLON.Vector3(1,0,0),O.value),console.log(O.value)}),w.addControl(O);var Y=new BABYLON.MeshBuilder.CreatePlane("",{height:.05,width:n.width});Y.position=new BABYLON.Vector3(0,n.height*.55,0),Y.parent=a;var b=BABYLON.GUI.AdvancedDynamicTexture.CreateForMesh(Y),L=g();b.addControl(L);var N=new BABYLON.MeshBuilder.CreatePlane("",{height:.01,width:n.width/2});N.position=new BABYLON.Vector3(0,-n.height*.55,0),N.parent=a;var _=BABYLON.GUI.AdvancedDynamicTexture.CreateForMesh(N),v=g();_.addControl(v);var m=new BABYLON.GUI.Slider("pitch");m.maximum=.05,m.minimum=-.05,m.value=1,m.onValueChangedObservable.add(()=>{a.rotate(new BABYLON.Vector3(0,1,0),-m.value),console.log(m.value)}),_.addControl(m);var f=new BABYLON.SixDofDragBehavior;f.disableMovement=!0;var I=new BABYLON.MultiPointerScaleBehavior;return L.onPointerDownObservable.add(()=>{f.disableMovement=!1}),L.onPointerUpObservable.add(()=>{f.disableMovement=!0}),a.addBehavior(f),a.addBehavior(I),a}constructor(t,r,l,o,n){super(t,r,null,o,!0,!1),this.images=n,this.#i=new BABYLON.StandardMaterial("m",r),this.#i.diffuseTexture=new BABYLON.Texture(this.images[this.#n],r),this.#i.diffuseTexture.hasAlpha=!0,this.#i.backFaceCulling=!1,this.#i.emissiveColor=new BABYLON.Color3(1,1,1),this.material=this.#i;var i=new BABYLON.MeshBuilder.CreatePlane("next",{width:.02,height:.05});i.parent=this,i.position=new BABYLON.Vector3(.33,0,0);var a=BABYLON.GUI.AdvancedDynamicTexture.CreateForMesh(i),d=g("");a.addControl(d),d.onPointerDownObservable.add(()=>{this.#n=this.#n+1,B()});var c=new BABYLON.MeshBuilder.CreatePlane("next",{width:.02,height:.05});c.parent=this,c.position=new BABYLON.Vector3(-.33,0,0);var s=BABYLON.GUI.AdvancedDynamicTexture.CreateForMesh(c),p=g("");s.addControl(p),p.onPointerDownObservable.add(()=>{this.#n=this.#n-1,B()});const B=()=>{this.#i.diffuseTexture=new BABYLON.Texture(n[this.#n],r)}}updateImage(){this.#i.diffuseTexture=new BABYLON.Texture(this.images[this.#n],scene)}togglePlay(){}setGizmo(t){this.#e=t}closeWindow(){this.#e.dispose(),this.dispose()}}const ue=["general1.png","general2.png","general3.png"],pe=["technical1.png","technical2.png"];function ne(e,t,r){e._docViewer&&e._docViewer.dispose();let l=1.1,o=!1,n=0,i=!1;const a=BABYLON.MeshBuilder.CreatePlane("docSlideshow",{width:l,height:l*1.36},e);a.position=new BABYLON.Vector3(-.2,1.45,1.5),a.billboardMode=BABYLON.Mesh.BILLBOARDMODE_Y,e._docViewer=a,a.actionManager=new BABYLON.ActionManager(e),a.actionManager.registerAction(new BABYLON.ExecuteCodeAction(BABYLON.ActionManager.OnPickDownTrigger,function(T){o||(i=!0)})),e.onPointerObservable.add(T=>{if(!(!i||o)){if(T.type===BABYLON.PointerEventTypes.POINTERMOVE){const j=e.pick(e.pointerX,e.pointerY,F=>!0,!1,e.activeCamera);if(j&&j.ray){const F=j.ray,ce=(a.position.y-F.origin.y)/F.direction.y,ee=F.origin.add(F.direction.scale(ce));a.position.x=ee.x,a.position.z=ee.z}}T.type===BABYLON.PointerEventTypes.POINTERUP&&(i=!1)}});const d=new BABYLON.StandardMaterial("docImageMat",e);d.diffuseTexture=new BABYLON.Texture(t[n],e),d.diffuseTexture.hasAlpha=!0,d.backFaceCulling=!1,d.emissiveColor=new BABYLON.Color3(1,1,1),a.material=d;const c=BABYLON.MeshBuilder.CreatePlane("docTitle",{width:1,height:.18},e);c.parent=a,c.position=new BABYLON.Vector3(0,.82,.01);const s=new BABYLON.StandardMaterial("docTitleMat",e),p=new BABYLON.DynamicTexture("docTitleTex",{width:800,height:128},e,!1);p.drawText(r+` (${n+1}/${t.length})`,32,90,"bold 48px Arial","#fff","#333b54"),s.diffuseTexture=p,s.emissiveColor=new BABYLON.Color3(1,1,1),s.backFaceCulling=!1,c.material=s;function B(){d.diffuseTexture=new BABYLON.Texture(t[n],e),p.getContext().clearRect(0,0,800,128),p.drawText(r+` (${n+1}/${t.length})`,32,90,"bold 48px Arial","#fff","#333b54"),p.update()}const h=l*.75,A=l*.88,u=-l*.72,w=BABYLON.MeshBuilder.CreatePlane("nextBtn",{width:.17,height:.17},e);w.parent=a,w.position=new BABYLON.Vector3(h,0,.03);const C=new BABYLON.StandardMaterial("nextMat",e),O=new BABYLON.DynamicTexture("nextDyn",{width:128,height:128},e,!1);O.drawText(">",44,90,"bold 110px Arial","#fff","#385CFA"),C.diffuseTexture=O,C.emissiveColor=new BABYLON.Color3(1,1,1),w.material=C,w.isPickable=!0;const Y=BABYLON.MeshBuilder.CreatePlane("prevBtn",{width:.17,height:.17},e);Y.parent=a,Y.position=new BABYLON.Vector3(-h,0,.03);const b=new BABYLON.StandardMaterial("prevMat",e),L=new BABYLON.DynamicTexture("prevDyn",{width:128,height:128},e,!1);L.drawText("<",26,90,"bold 110px Arial","#fff","#385CFA"),b.diffuseTexture=L,b.emissiveColor=new BABYLON.Color3(1,1,1),Y.material=b,Y.isPickable=!0;const N=BABYLON.MeshBuilder.CreatePlane("closeBtn",{width:.15,height:.15},e);N.parent=a,N.position=new BABYLON.Vector3(h,A,.03);const _=new BABYLON.StandardMaterial("closeMat",e),v=new BABYLON.DynamicTexture("closeDyn",{width:128,height:128},e,!1);v.drawText("âœ–",28,98,"bold 108px Arial","#fff","#c0392b"),_.diffuseTexture=v,_.emissiveColor=new BABYLON.Color3(1,1,1),N.material=_,N.isPickable=!0;const m=BABYLON.MeshBuilder.CreatePlane("plusBtn",{width:.15,height:.15},e);m.parent=a,m.position=new BABYLON.Vector3(-h,A,.03);const f=new BABYLON.StandardMaterial("plusMat",e),I=new BABYLON.DynamicTexture("plusDyn",{width:128,height:128},e,!1);I.drawText("+",38,96,"bold 108px Arial","#fff","#27ae60"),f.diffuseTexture=I,f.emissiveColor=new BABYLON.Color3(1,1,1),m.material=f,m.isPickable=!0;const x=BABYLON.MeshBuilder.CreatePlane("minusBtn",{width:.15,height:.15},e);x.parent=a,x.position=new BABYLON.Vector3(-h,u,.03);const P=new BABYLON.StandardMaterial("minusMat",e),M=new BABYLON.DynamicTexture("minusDyn",{width:128,height:128},e,!1);M.drawText("-",42,90,"bold 120px Arial","#fff","#d35400"),P.diffuseTexture=M,P.emissiveColor=new BABYLON.Color3(1,1,1),x.material=P,x.isPickable=!0;const U=BABYLON.MeshBuilder.CreatePlane("lockBtn",{width:.15,height:.15},e);U.parent=a,U.position=new BABYLON.Vector3(h,u,.03);const R=new BABYLON.StandardMaterial("lockMat",e),S=new BABYLON.DynamicTexture("lockDyn",{width:128,height:128},e,!1);function q(){S.getContext().clearRect(0,0,128,128),S.drawText(o?"ðŸ”’":"ðŸ”“",34,98,"bold 108px Arial","#fff",o?"#27ae60":"#c0392b"),S.update()}q(),R.diffuseTexture=S,R.emissiveColor=new BABYLON.Color3(1,1,1),U.material=R,U.isPickable=!0,e.onPointerObservable.add(function(T){T.type===BABYLON.PointerEventTypes.POINTERPICK&&T.pickInfo&&T.pickInfo.pickedMesh&&(T.pickInfo.pickedMesh===w&&(n=(n+1)%t.length,B()),T.pickInfo.pickedMesh===Y&&(n=(n-1+t.length)%t.length,B()),T.pickInfo.pickedMesh===N&&(a.dispose(),e._docViewer=null),T.pickInfo.pickedMesh===m&&!o&&(l*=1.12,a.scaling=new BABYLON.Vector3(l/1.1,l/1.1,1)),T.pickInfo.pickedMesh===x&&!o&&(l/=1.12,a.scaling=new BABYLON.Vector3(l/1.1,l/1.1,1)),T.pickInfo.pickedMesh===U&&(o=!o,q()))})}function Ae(e,t){e._videoSelectorPanel&&e._videoSelectorPanel.dispose();const r=BABYLON.MeshBuilder.CreatePlane("videoSelector",{width:.8,height:.35},e);r.position=new BABYLON.Vector3(-.2,1.7,1.5),r.billboardMode=BABYLON.Mesh.BILLBOARDMODE_Y,e._videoSelectorPanel=r;const l=BABYLON.GUI.AdvancedDynamicTexture.CreateForMesh(r,800,350),o=new BABYLON.GUI.StackPanel;l.addControl(o);let n=new BABYLON.GUI.TextBlock;n.text="Select Video:",n.color="#fff",n.fontSize=40,n.height="70px",n.fontWeight="bold",n.marginBottom="12px",o.addControl(n);let i=BABYLON.GUI.Button.CreateSimpleButton("btnAdv","Advanced Training");i.width="90%",i.height="60px",i.color="#fff",i.background="#385CFA",i.cornerRadius=20,i.fontSize=26,i.fontWeight="bold",i.marginBottom="14px",i.onPointerUpObservable.add(()=>{r.dispose(),e._videoSelectorPanel=null,ie(e,"video1.mp4","Advanced Training Video"),t&&(t.text="Advanced Training Video")}),o.addControl(i);let a=BABYLON.GUI.Button.CreateSimpleButton("btnIntro","Introduction Training");a.width="90%",a.height="60px",a.color="#fff",a.background="#385CFA",a.cornerRadius=20,a.fontSize=26,a.fontWeight="bold",a.onPointerUpObservable.add(()=>{r.dispose(),e._videoSelectorPanel=null,ie(e,"video2.mp4","Introduction Training Video"),t&&(t.text="Introduction Training Video")}),o.addControl(a),e.onPointerObservable.add(function d(c){c.type===BABYLON.PointerEventTypes.POINTERPICK&&c.pickInfo&&c.pickInfo.pickedMesh===null&&(e._videoSelectorPanel&&(e._videoSelectorPanel.dispose(),e._videoSelectorPanel=null),e.onPointerObservable.removeCallback(d))})}function ie(e,t,r){e._videoWindow&&e._videoWindow.dispose();let l=1.1,o=!1,n=!1;const i=BABYLON.MeshBuilder.CreatePlane("videoPlane",{width:l,height:l*.63},e);i.position=new BABYLON.Vector3(-.2,1.15,1.5),i.billboardMode=BABYLON.Mesh.BILLBOARDMODE_Y,e._videoWindow=i,i.actionManager=new BABYLON.ActionManager(e),i.actionManager.registerAction(new BABYLON.ExecuteCodeAction(BABYLON.ActionManager.OnPickDownTrigger,function(x){o||(n=!0)})),e.onPointerObservable.add(x=>{if(!(!n||o)){if(x.type===BABYLON.PointerEventTypes.POINTERMOVE){const P=e.pick(e.pointerX,e.pointerY,M=>!0,!1,e.activeCamera);if(P&&P.ray){const M=P.ray,R=(i.position.y-M.origin.y)/M.direction.y,S=M.origin.add(M.direction.scale(R));i.position.x=S.x,i.position.z=S.z}}x.type===BABYLON.PointerEventTypes.POINTERUP&&(n=!1)}});const a=new BABYLON.StandardMaterial("videoMat",e),d=new BABYLON.VideoTexture("vidTex",[t],e,!0,!1,BABYLON.VideoTexture.TRILINEAR_SAMPLINGMODE,{autoPlay:!0,loop:!1,poster:""});a.diffuseTexture=d,a.emissiveColor=new BABYLON.Color3(1,1,1),a.backFaceCulling=!1,i.material=a;const c=BABYLON.MeshBuilder.CreatePlane("videoTitle",{width:1,height:.18},e);c.parent=i,c.position=new BABYLON.Vector3(0,.5,.01);const s=new BABYLON.StandardMaterial("videoTitleMat",e),p=new BABYLON.DynamicTexture("videoTitleTex",{width:800,height:128},e,!1);p.drawText(r,32,90,"bold 48px Arial","#fff","#385CFA"),s.diffuseTexture=p,s.emissiveColor=new BABYLON.Color3(1,1,1),s.backFaceCulling=!1,c.material=s;const B=l*.75,h=l*.55,A=-l*.42,u=BABYLON.MeshBuilder.CreatePlane("closeBtnV",{width:.15,height:.15},e);u.parent=i,u.position=new BABYLON.Vector3(B,h,.03);const w=new BABYLON.StandardMaterial("closeMatV",e),C=new BABYLON.DynamicTexture("closeDynV",{width:128,height:128},e,!1);C.drawText("âœ–",28,98,"bold 108px Arial","#fff","#c0392b"),w.diffuseTexture=C,w.emissiveColor=new BABYLON.Color3(1,1,1),u.material=w,u.isPickable=!0;const O=BABYLON.MeshBuilder.CreatePlane("plusBtnV",{width:.15,height:.15},e);O.parent=i,O.position=new BABYLON.Vector3(-B,h,.03);const Y=new BABYLON.StandardMaterial("plusMatV",e),b=new BABYLON.DynamicTexture("plusDynV",{width:128,height:128},e,!1);b.drawText("+",38,96,"bold 108px Arial","#fff","#27ae60"),Y.diffuseTexture=b,Y.emissiveColor=new BABYLON.Color3(1,1,1),O.material=Y,O.isPickable=!0;const L=BABYLON.MeshBuilder.CreatePlane("minusBtnV",{width:.15,height:.15},e);L.parent=i,L.position=new BABYLON.Vector3(-B,A,.03);const N=new BABYLON.StandardMaterial("minusMatV",e),_=new BABYLON.DynamicTexture("minusDynV",{width:128,height:128},e,!1);_.drawText("-",42,90,"bold 120px Arial","#fff","#d35400"),N.diffuseTexture=_,N.emissiveColor=new BABYLON.Color3(1,1,1),L.material=N,L.isPickable=!0;const v=BABYLON.MeshBuilder.CreatePlane("lockBtnV",{width:.15,height:.15},e);v.parent=i,v.position=new BABYLON.Vector3(B,A,.03);const m=new BABYLON.StandardMaterial("lockMatV",e),f=new BABYLON.DynamicTexture("lockDynV",{width:128,height:128},e,!1);function I(){f.getContext().clearRect(0,0,128,128),f.drawText(o?"ðŸ”’":"ðŸ”“",34,98,"bold 108px Arial","#fff",o?"#27ae60":"#c0392b"),f.update()}I(),m.diffuseTexture=f,m.emissiveColor=new BABYLON.Color3(1,1,1),v.material=m,v.isPickable=!0,e.onPointerObservable.add(function(x){x.type===BABYLON.PointerEventTypes.POINTERPICK&&x.pickInfo&&x.pickInfo.pickedMesh&&(x.pickInfo.pickedMesh===u&&(i.dispose(),e._videoWindow=null),x.pickInfo.pickedMesh===O&&!o&&(l*=1.12,i.scaling=new BABYLON.Vector3(l/1.1,l/1.1,1)),x.pickInfo.pickedMesh===L&&!o&&(l/=1.12,i.scaling=new BABYLON.Vector3(l/1.1,l/1.1,1)),x.pickInfo.pickedMesh===v&&(o=!o,I()))})}const ge=e=>{const t=BABYLON.MeshBuilder.CreatePlane("menuPlane",{width:.7,height:.8},e);t.position=new BABYLON.Vector3(-.95,1.55,1.25),t.rotation=new BABYLON.Vector3(0,-.24,0);const r=BABYLON.GUI.AdvancedDynamicTexture.CreateForMesh(t,700,800),l=new BABYLON.GUI.Rectangle;l.width=1,l.height=1,l.cornerRadius=22,l.color="#5b73e8",l.thickness=2,l.background="rgba(40,45,72,0.60)",l.alpha=.88,r.addControl(l);const o=new BABYLON.GUI.StackPanel;o.width=1,o.height=.93,o.isVertical=!0,o.verticalAlignment=BABYLON.GUI.Control.VERTICAL_ALIGNMENT_CENTER,o.horizontalAlignment=BABYLON.GUI.Control.HORIZONTAL_ALIGNMENT_CENTER,o.spacing=20,l.addControl(o);const n=new BABYLON.GUI.TextBlock;n.text="Menu Unlocked",n.height="70px",n.color="#e9e9fc",n.fontSize=34,n.fontWeight="bold",n.textHorizontalAlignment=BABYLON.GUI.Control.HORIZONTAL_ALIGNMENT_CENTER,o.addControl(n);const i=new BABYLON.GUI.StackPanel;i.width=1,i.isVertical=!0,i.spacing=18,o.addControl(i);function a(p,B){const h=BABYLON.GUI.Button.CreateSimpleButton("btn",p);return h.width=.92,h.height="64px",h.cornerRadius=15,h.color="#fff",h.background="rgba(91,115,232,0.97)",h.thickness=0,h.fontSize=26,h.fontWeight="500",h.onPointerUpObservable.add(B),h}i.addControl(a("ðŸ“„ Document",()=>{n.text="Document opened",Oe(t.getScene(),n)})),i.addControl(a("ðŸŽ¬ Video",()=>{n.text="Video opened",Ae(t.getScene(),n)})),i.addControl(a("ðŸ¤– ARAI Access",()=>{n.text="ARAI accessed",alert("ARAI feature accessed (backend connection goes here)")}));let d=!1;const c=a("ðŸ”“ Menu Unlocked",()=>{d=!d,d?(c.textBlock.text="ðŸ”’ Menu Locked",n.text="Menu Locked",c.background="#27ae60"):(c.textBlock.text="ðŸ”“ Menu Unlocked",n.text="Menu Unlocked",c.background="#c0392b")});c.background="#c0392b",i.addControl(c);let s=!1;return t.actionManager=new BABYLON.ActionManager(e),t.actionManager.registerAction(new BABYLON.ExecuteCodeAction(BABYLON.ActionManager.OnPickDownTrigger,function(p){d||(s=!0)})),e.onPointerObservable.add(p=>{if(!(!s||d)){if(p.type===BABYLON.PointerEventTypes.POINTERMOVE){const B=e.pick(e.pointerX,e.pointerY,h=>!0,!1,e.activeCamera);if(B&&B.ray){const h=B.ray,u=(t.position.y-h.origin.y)/h.direction.y,w=h.origin.add(h.direction.scale(u));t.position.x=w.x,t.position.z=w.z}}p.type===BABYLON.PointerEventTypes.POINTERUP&&(s=!1)}}),e.registerBeforeRender(()=>{e.activeCamera&&!s&&t.lookAt(e.activeCamera.position,0,Math.PI,Math.PI)}),t};function Oe(e,t){e._docSelectorPanel&&e._docSelectorPanel.dispose();const r=BABYLON.MeshBuilder.CreatePlane("docSelector",{width:.6,height:.33},e);r.position=new BABYLON.Vector3(-.5,2.18,1.55),r.billboardMode=BABYLON.Mesh.BILLBOARDMODE_Y,e._docSelectorPanel=r;const l=BABYLON.GUI.AdvancedDynamicTexture.CreateForMesh(r,600,330),o=new BABYLON.GUI.StackPanel;o.verticalAlignment=BABYLON.GUI.Control.VERTICAL_ALIGNMENT_CENTER,l.addControl(o);let n=new BABYLON.GUI.TextBlock;n.text="Choose document:",n.color="#fff",n.fontSize=32,n.height="52px",n.fontWeight="bold",n.marginBottom="12px",o.addControl(n);let i=BABYLON.GUI.Button.CreateSimpleButton("btnGen","General Document");i.width="92%",i.height="56px",i.color="#fff",i.background="#385CFA",i.cornerRadius=13,i.fontSize=24,i.onPointerUpObservable.add(()=>{r.dispose(),e._docSelectorPanel=null,ne(e,ue,"General Document"),t.text="General Document opened"}),o.addControl(i);let a=BABYLON.GUI.Button.CreateSimpleButton("btnTech","Technical Document");a.width="92%",a.height="56px",a.color="#fff",a.background="#385CFA",a.cornerRadius=13,a.fontSize=24,a.onPointerUpObservable.add(()=>{r.dispose(),e._docSelectorPanel=null,ne(e,pe,"Technical Document"),t.text="Technical Document opened"}),o.addControl(a),e.onPointerObservable.add(function d(c){c.type===BABYLON.PointerEventTypes.POINTERPICK&&c.pickInfo&&c.pickInfo.pickedMesh===null&&(e._docSelectorPanel&&(e._docSelectorPanel.dispose(),e._docSelectorPanel=null),e.onPointerObservable.removeCallback(d))})}async function me(e){const t=new BABYLON.Scene(e.getEngine());t.createDefaultCameraOrLight(!0,!0,!0);let r=!1;try{let l=null;navigator.xr&&navigator.xr.isSessionSupported&&await navigator.xr.isSessionSupported("immersive-ar")?(l=await t.createDefaultXRExperienceAsync({uiOptions:{sessionMode:"immersive-ar",referenceSpaceType:"local-floor"},optionalFeatures:!0}),l.baseExperience.enterXRAsync("immersive-ar","local-floor").catch(n=>{errorMsg.style.display="block",errorMsg.textContent="AR not supported or permission denied."})):r=!0}catch{r=!0}return ge(t),r&&(BABYLON.MeshBuilder.CreateGround("ground",{width:6,height:6},t).position.y=0,t.activeCamera.alpha=-Math.PI/2.1,t.activeCamera.beta=1.1,t.activeCamera.radius=3),t}function ae(e,t){console.log("docs");var r=new BABYLON.GUI.StackPanel("MenuStack"),l=new BABYLON.GUI.Grid("Grid");for(let n=0;n<12;n++){var o=new k("testing"+n.toString()+".docx");o.heightInPixels=25,o.onPointerDownObservable.add(()=>{var i;Z.createAriaPdfWindow("pdf",scene,i)}),r.addControl(o)}return l.addControl(r),l}function le(e,t){var r=new BABYLON.GUI.StackPanel("MenuStack"),l=new BABYLON.GUI.Grid("Grid"),o=new k("test");o.onPointerUpObservable.add(function(){t.loadScene(te(t))});var n=new k("Bhabisya");n.onPointerUpObservable.add(function(){t.loadScene(te(t))});var i=new k("Adib");i.onPointerUpObservable.add(function(){t.loadScene(me(t))});var a=new k("Matthew");return a.onPointerUpObservable.add(function(){t.loadScene(Be(t))}),r.addControl(o),r.addControl(n),r.addControl(i),r.addControl(a),l.addControl(r),l}function we(e,t){var r=g(),l=new BABYLON.GUI.StackPanel("stack"),o=new BABYLON.GUI.Slider("slider"),n=new BABYLON.GUI.TextBlock("controll");o.maximum=e.getVolumeMax(),o.minimum=e.getVolumeMin(),o.width=.7,o.height=.2,o.value=e.volume,n.text="volume - "+e.volume,o.onValueChangedObservable.add(()=>{n.text="volume - "+e.volume.toString(),e.volume=o.value}),n.textHorizontalAlignment=BABYLON.GUI.Control.HORIZONTAL_ALIGNMENT_LEFT,n.textVerticalAlignment=BABYLON.GUI.Control.VERTICAL_ALIGNMENT_TOP;var i=g();i.addControl(n),i.heightInPixels=100,i.addControl(o),l.addControl(i);var a=new BABYLON.GUI.Slider("cornerslider"),d=new BABYLON.GUI.TextBlock("corner-radius");a.value=e.corner_radius,d.text="Corner Radius - "+e.corner_radius.toString(),d.textHorizontalAlignment=BABYLON.GUI.Control.HORIZONTAL_ALIGNMENT_LEFT,d.textVerticalAlignment=BABYLON.GUI.Control.VERTICAL_ALIGNMENT_TOP,a.maximum=e.getCornerMax(),a.minimum=e.getCornerMin(),a.width=.7,a.height=.2,a.onValueChangedObservable.add(()=>{d.text="Corner Radius"+e.corner_radius.toString(),e.corner_radius=a.value});var c=g();c.addControl(d),c.heightInPixels=100,c.addControl(a),l.addControl(c);var s=D("save-button","Save Changes");return s.heightInPixels=70,s.width=.6,s.onPointerDownObservable.add(()=>{e.update_settings()}),l.addControl(s),r.addControl(l),r}function Le(e){var t=g("project-page"),r=new BABYLON.GUI.StackPanel("stack"),l=g("file_contianer"),o=new BABYLON.GUI.ScrollViewer("s",!0);for(let i=0;i<e.length;i++){var n=D("button"+i.toString(),"file - "+i.toString());n.onPointerDownObservable.add(()=>{e[1].push(new J("photo","../../../assets/AriaChatAttachments/Menu.jpg",X.Picture))}),n.heightInPixels=50,r.addControl(n)}return l.addControl(r),t.height=3,o.addControl(l),t.addControl(o),t}function Ne(e=[]){let t=new g("attachment_container");var r=[];for(let l=0;l<7;l++)r.push(new y(Le,"task "+l.toString()));return t.addControl(new $("filebrowser",r,void 0,[[1,2,3,4,5],e])),t}const ve=[{message:"demo conversation ",reply_direction:1,time_stamp:"Last Sync: 15/7/2025 @ 16:32:20"},{message:`lets see... 
 I don't think this is what you are looking for`,reply_direction:0,time_stamp:"Last Sync: 15/7/2025 @ 16:32:20"},{message:"here is the file you were looking for!!",reply_direction:0,time_stamp:"Last Sync: 15/7/2025 @ 16:32:20"},{message:"this is just a test conversation between me and this ai here ",reply_direction:1,time_stamp:"Last Sync: 15/7/2025 @ 16:32:30"},{message:"ai reply",reply_direction:0,time_stamp:"Last Sync: 15/7/2025 @ 16:32:30"},{message:"nothing to see here just a demo conversation between me and my ai buddy over here ",reply_direction:1,time_stamp:"Last Sync: 15/7/2025 @ 16:32:43"},{message:"ai reply",reply_direction:0,time_stamp:"Last Sync: 15/7/2025 @ 16:32:43"},{message:"riviting discourse with me and my ai buddy",reply_direction:1,time_stamp:"Last Sync: 15/7/2025 @ 16:33:3"},{message:"ai reply",reply_direction:0,time_stamp:"Last Sync: 15/7/2025 @ 16:33:3"},{message:"good morning aria how cna i be of assistance (turning the tables)",reply_direction:1,time_stamp:"Last Sync: 15/7/2025 @ 16:33:22"},{message:"ai reply",reply_direction:0,time_stamp:"Last Sync: 15/7/2025 @ 16:33:22"},{message:"thank you for another sweet ai reply mr ai ",reply_direction:1,time_stamp:"Last Sync: 15/7/2025 @ 16:33:34"},{message:"ai reply",reply_direction:0,time_stamp:"Last Sync: 15/7/2025 @ 16:33:34"},{message:"no way ",reply_direction:1,time_stamp:"Last Sync: 15/7/2025 @ 16:33:36"},{message:"ai reply",reply_direction:0,time_stamp:"Last Sync: 15/7/2025 @ 16:33:36"},{message:"woah ",reply_direction:1,time_stamp:"Last Sync: 15/7/2025 @ 16:33:39"},{message:"ai reply",reply_direction:0,time_stamp:"Last Sync: 15/7/2025 @ 16:33:39"},{message:"ai reply ",reply_direction:1,time_stamp:"Last Sync: 15/7/2025 @ 16:33:41"},{message:"ai reply",reply_direction:0,time_stamp:"Last Sync: 15/7/2025 @ 16:33:41"},{message:"ske",reply_direction:1,time_stamp:"Last Sync: 15/7/2025 @ 16:33:43"},{message:"ai reply",reply_direction:0,time_stamp:"Last Sync: 15/7/2025 @ 16:33:43"}];class H{static conversation=[]}class X{static Video=0;static PDF=0;static Picture=0}class J{constructor(t,r,l){this.path=r,this.name=t,this.type=l}}class fe{constructor(t,r,l){this.message=t,this.reply_direction=r,this.time_stamp=l}}class E{static left=0;static right=1}class W{static read=1;static write=0}function Ce(){return H.conversation.length==0?ve:H.conversation}function Ye(){var e=new Date,t=e.getDate()+"/"+(e.getMonth()+1)+"/"+e.getFullYear()+" @ "+e.getHours()+":"+e.getMinutes()+":"+e.getSeconds();return t}function re(){var e=g("speechBubble");return e.heightInPixels=50,e.width=.43,e}function Q(e="",t=[],r,l,o){var n=[],i=re(),a=Math.floor(e.length/50);i.resizeToFit=!0,i.heightInPixels=50+20*a,i.textWrapping=BABYLON.GUI.TextWrapping.WordWrap;var d=new BABYLON.GUI.TextBlock("block",e);d.textWrapping=BABYLON.GUI.TextWrapping.WordWrap,d.resizeToFit=!0;var c=new BABYLON.GUI.StackPanel("msgstack");i.addControl(d),c.textWrapping=BABYLON.GUI.TextWrapping.WordWrap,c.resizeToFit=!0,i.verticalAlignment=BABYLON.GUI.Control.HORIZONTAL_ALIGNMENT_TOP,d.verticalAlignment=BABYLON.GUI.Control.HORIZONTAL_ALIGNMENT_TOP,r==E.left&&(i.horizontalAlignment=BABYLON.GUI.Control.HORIZONTAL_ALIGNMENT_LEFT,d.textHorizontalAlignment=BABYLON.GUI.Control.HORIZONTAL_ALIGNMENT_LEFT),r==E.right&&(i.horizontalAlignment=BABYLON.GUI.Control.HORIZONTAL_ALIGNMENT_RIGHT,d.textHorizontalAlignment=BABYLON.GUI.Control.HORIZONTAL_ALIGNMENT_LEFT);for(let B=0;B<t.length;B++){var s=re();if(t[B].type==X.Picture){var p=new BABYLON.GUI.Image(t[B].name,t[B].path);s.resizeToFit=!0,s.textWrapping=BABYLON.GUI.TextWrapping.WordWrap,s.heightInPixels=500,s.widthInPixels=.5,s.width=.8,s.addControl(p),r==E.left&&(s.horizontalAlignment=BABYLON.GUI.Control.HORIZONTAL_ALIGNMENT_LEFT),r==E.right&&(s.horizontalAlignment=BABYLON.GUI.Control.HORIZONTAL_ALIGNMENT_RIGHT)}n.push(s)}if(o==W.write){l.push(new fe(d.text,r,Ye())),H.conversation=l;const B=JSON.stringify(H.conversation);console.log(B)}return n.push(i),n}function se(e,t){var r=new J("image","/src/assets/AriaChatAttachments/Menu.png",X.Picture),l=Ce();const o="asdg";new Blob([o],{type:"text/plain"});var n=g("chat-window");n.background="transparent";var i=new BABYLON.GUI.ScrollViewer("",!0);i.background="white",i.cornerRadius=20,i.alpha=.5,i.isPointerBlocker=!0,i.fontFamily="Helvetica, Arial, sans-serif",i.thickness=2.2,i.verticalAlignment=BABYLON.GUI.Control.VERTICAL_ALIGNMENT_TOP;var a=g();a.height=3,i.addControl(a);var d=new BABYLON.GUI.StackPanel;a.addControl(d),d.paddingBottom="10%",d.verticalAlignment=BABYLON.GUI.Control.VERTICAL_ALIGNMENT_TOP;var c=g("chat-bar"),s=new BABYLON.GUI.InputText("text");s.width=.8,s.horizontalAlignment=BABYLON.GUI.Control.HORIZONTAL_ALIGNMENT_LEFT;var p=D("send","send");p.onPointerDownObservable.add(()=>{if(s.text.length>0){var A=Q(s.text,[r],E.right,l,W.write);s.text="";for(let u=0;u<A.length;u++)d.addControl(A[u]),a.length=a.length+1;A=Q("ai reply",[],E.left,l,W.write);for(let u=0;u<A.length;u++)d.addControl(A[u]),a.length=a.length+1}}),p.horizontalAlignment=BABYLON.GUI.Control.HORIZONTAL_ALIGNMENT_RIGHT,p.widthInPixels=50,p.heightInPixels=50;var B=D("attachments","attachments");B.left=400,B.widthInPixels=50,B.heightInPixels=50,B.onPointerDownObservable.add(()=>{V("attachment_window",e,t,Ne())}),c.addControl(p),c.addControl(B),c.addControl(s),n.addControl(c),n.addControl(i),i.height=.9,c.height=.1,c.verticalAlignment=BABYLON.GUI.Control.VERTICAL_ALIGNMENT_BOTTOM,c.thickness=2,c.outlineColor="black";for(let A=0;A<l.length;A++){var h=Q(l[A].message,[],l[A].reply_direction,l,W.read);for(let u=0;u<h.length;u++)d.addControl(h[u]),a.length=a.length+1}return n}class z{constructor(t,r){this.buttonFuncion=t,this.name=r}}function xe(e,t,r){V("name",t,r,new $("tester",[new y(g,"Videos"),new y(ae,"Documents"),new y(le,"Experiments")],e))}function be(e,t,r){}function _e(e,t,r){}function Te(e,t,r){V("chatwindow",t,r,se())}function Ie(e,t,r){}function Me(e,t,r){e.rows=e.buttons.length/2;for(let o=0;o<e.buttons.length;o++){var l=new BABYLON.GUI.TouchHolographicButton;l.text=e.buttons[o].name,l.onPointerUpObservable.add(()=>{e.buttons[o].buttonFuncion(t,e.getScene(),e.getUtilLayer())}),e.addButton(l)}return e}class ye extends BABYLON.GUI.NearMenu{#e;#t;constructor(t,r,l=[new z(xe,"Main Menu"),new z(be,"Selection"),new z(_e,"Video Toggle"),new z(Te,"Chat"),new z(Ie,"Instruction List")],o,n){super(t),this.gameEngine=r,this.name=t,this.buttons=l,this.rows=l.length/2,this.#e=o,this.#t=n}getUtilLayer(){return this.#e}getScene(){return this.#t}getParent(){return this.parent}}class G{#e="";#t="";constructor(t,r){this.title=t,this.details=r,this.index=-1}}class Pe{#e=[new G("n/a","empty"),new G("n/a","empty"),new G("n/a","empty")];#t="";#n="";#i=[new J("photo","/src/assets/AriaChatAttachments/Menu.png",X.Picture)];constructor(t,r,l){this.taskName=t,this.instructionList=l,this.taskDescription=r,this.taskPointer=0}async getTaskName(){return this.#t}getTaskDescription(){return this.#n}async getInstructionList(){return this.#e}addInstruction(t){this.#e.push(t)}}function Se(e,t){var r=void 0,l=new Pe("Engine Repair",`Basic step by step on how to repair an Audi A6 Engine 
 only applicable to post 2021 models`,[new G("Open the bonnet","open the bonnet of the car. the engine should be in full view"),new G("Conduct engine checks","perform the basic engine checks!"),new G("Send help","ask for help when you realise you have no idea what is going on"),new G("If help does not come, step away from vehicle","pretty self explanatory")]);console.log(l),console.log(l.instructionList[0].title);var o=g("instructionContainer"),n=new BABYLON.GUI.StackPanel;n.horizontalAlignment=BABYLON.GUI.Control.HORIZONTAL_ALIGNMENT_CENTER,n.verticalAlignment=BABYLON.GUI.Control.VERTICAL_ALIGNMENT_CENTER,n.alpha=1;for(let i=0;i<l.instructionList.length;i++){let a=D("btn",l.instructionList[i].title);a.height="40px",a.paddingTop="5px",a.onPointerUpObservable.add(()=>{r?.closeWindow(),r=V(l.getTaskName(),e,t,ke(l,i))}),n.addControl(a)}return o.addControl(n),o}function ke(e,t){var r=g("detailspanel"),l=new BABYLON.GUI.StackPanel;l.horizontalAlignment=BABYLON.GUI.Control.HORIZONTAL_ALIGNMENT_CENTER,l.verticalAlignment=BABYLON.GUI.Control.VERTICAL_ALIGNMENT_TOP;var o=new BABYLON.GUI.TextBlock;o.text=e.instructionList[t].details,o.fontSize=20,o.height="100px",o.textWrapping=!0,o.paddingBottom="20px",l.addControl(o);var n=new BABYLON.GUI.Grid;n.height="60px",n.addColumnDefinition(.5),n.addColumnDefinition(.5),n.horizontalAlignment=BABYLON.GUI.Control.HORIZONTAL_ALIGNMENT_CENTER,n.verticalAlignment=BABYLON.GUI.Control.VERTICAL_ALIGNMENT_BOTTOM,n.paddingTop="20px",l.addControl(n);const i=s=>{const p=D(s.toLowerCase()+"Btn",s);return p.width="100px",p.height="40px",p},a=()=>{o.text=`${e.instructionList[t].details}`};var d=i("Previous"),c=i("Next");return n.addControl(d,0,0),n.addControl(c,0,1),d.onPointerUpObservable.add(()=>{t>0&&(t--,a())}),c.onPointerUpObservable.add(()=>{t<e.instructionList.length+1&&(t++,a())}),r.addControl(l),r}class Ge{#e=1;#t=0;#n;#i=[];#r=50;#o=0;constructor(t=.9,r=!1,l=.5,o=.5,n=.6,i=23){this.volume=t,this.dark_mode=r,this.contrast=l,this.brightness=o,this.opacity=n,this.corner_radius=i}addWindow(t){this.#i.push(t)}setVideo(t){this.#n=t}update_settings(){console.log(this),this.#n.video_texture.video.volume=this.volume;for(let t=0;t<this.#i.length;t++){const r=this.#i[t].getDynamicTexture();for(let l=0;l<r.getChildren().length;l++)this.update_parent(r.getChildren()[l])}}update_parent(t){if(t.getDescendants().length!=0&&t!=null){t.cornerRadius=this.corner_radius;for(let r=0;r<t.getDescendants().length;r++)this.update_parent(t.getDescendants()[r])}}getVolumeMax(){return this.#e}getVolumeMin(){return this.#t}getCornerMax(){return this.#r}getCornerMin(){return this.#o}}async function Ve(e){let t=new Ge;const r=new BABYLON.Scene(e.getEngine()),l=new BABYLON.GUI.GUI3DManager(r);var o=new BABYLON.FreeCamera("camera1",new BABYLON.Vector3(0,0,0),r);return o.attachControl(e.getCanvas(),!0),o.minZ=.01,o.speed=.4,new BABYLON.HemisphericLight("hemi",new BABYLON.Vector3(0,0,0),r),r.createDefaultXRExperienceAsync({uiOptions:{sessionMode:"immersive-ar",referenceSpaceType:"local-floor"}}).then(n=>{n.baseExperience.camera.position=new BABYLON.Vector3(0,0,0);try{n.baseExperience.featuresManager.enableFeature(BABYLON.WebXRFeature.HAND_TRACKING,"latest",{xrInput:n.input})}catch{console.log("")}var i=new BABYLON.UtilityLayerRenderer(r);i.utilityLayerScene.autoClearDepthAndStencil=!1;var a=K.createAriaVideoWindow("video",r,i,"https://alimov2.a.kwimgs.com/upic/2022/01/31/16/BMjAyMjAxMzExNjAwMDFfNDAzMDAxOTlfNjYyNzMyNTAwMzJfMF8z_b_Be73c5abcbc0eeb2ec9fce6842e1362a4.mp4");t.setVideo(a);var d=V("chatwindow",r,i,se(r,i));d.position=new BABYLON.Vector3(-.7,0,0),t.addWindow(d);var c=V("name",r,i,new $("tester",[new y(g,"Videos"),new y(ae,"Documents"),new y(le,"Experiments"),new y(we,"Settings")],e,t));c.position=new BABYLON.Vector3(0,.7,0),t.addWindow(c);var s=V("instructions",r,i,Se(r,i));s.position=new BABYLON.Vector3(0,-.7,0),l.useRealisticScaling=!0;var p=Z.createAriaPdfWindow("pdf",r,i);p.position=new BABYLON.Vector3(.7,0,0),l.useRealisticScaling=!0;var B=new ye("one",e,void 0,i,r);l.addControl(B),Me(B,e)}),r}const de=document.getElementById("renderCanvas");if(!de)throw new Error("Canvas with id 'renderCanvas' not found.");class Ue{#e;#t;constructor(t){this.#e=t,this.#t=new BABYLON.Engine(this.#e,!0),this.currentScne=null}#n(t){t.then(r=>{r&&this.#t.runRenderLoop(()=>{r.render()})}),window.addEventListener("resize",()=>{this.#t.resize()})}renderUpdate(){this.currentScne.render()}loadScene(t){this.currentScne=t,this.#t.stopRenderLoop(),this.#n(t)}getEngine(){return this.#t}getCanvas(){return this.#e}}const oe=new Ue(de);function Ee(){var e=Ve(oe);oe.loadScene(e)}function De(){Ee()}De();
