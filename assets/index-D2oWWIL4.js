(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))a(i);new MutationObserver(i=>{for(const n of i)if(n.type==="childList")for(const d of n.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function r(i){const n={};return i.integrity&&(n.integrity=i.integrity),i.referrerPolicy&&(n.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?n.credentials="include":i.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function a(i){if(i.ep)return;i.ep=!0;const n=r(i);fetch(i.href,n)}})();async function f(t){const e=new BABYLON.Scene(t.getEngine()),r=new BABYLON.FreeCamera("camera1",new BABYLON.Vector3(0,1,-5),e);if(r.setTarget(BABYLON.Vector3.Zero()),r.attachControl(t.getCanvas(),!0),!await(navigator.xr?.isSessionSupported?.("immersive-ar")??!1))return alert("AR not supported on this device."),e;text1.text=`WebXR Demo: Tap on the blue marker to place a red sphere.
Use the slider below to change its size before placing.`;const i=await e.createDefaultXRExperienceAsync({uiOptions:{sessionMode:"immersive-ar",referenceSpaceType:"local-floor",onError:c=>alert(c)},optionalFeatures:["hit-test"]});let n;i.baseExperience.sessionManager.onXRSessionInit.add(()=>{rectangle.isVisible=!1,n&&(n.isVisible=!0)}),i.baseExperience.sessionManager.onXRSessionEnded.add(()=>{rectangle.isVisible=!0,n&&(n.isVisible=!1),o.isVisible=!1});const g=i.baseExperience.featuresManager.enableFeature(BABYLON.WebXRHitTest.Name,"latest");i.baseExperience.camera;const o=BABYLON.MeshBuilder.CreateTorus("marker",{diameter:.15,thickness:.05,tessellation:32},e);o.isVisible=!1,o.rotationQuaternion=new BABYLON.Quaternion;const h=new BABYLON.StandardMaterial("matstd",e);h.diffuseColor=new BABYLON.Color3(.4,.8,1),o.material=h;const s=BABYLON.MeshBuilder.CreateSphere("sphere",{diameter:1},e);s.isVisible=!1,s.rotationQuaternion=new BABYLON.Quaternion,s.scaling.set(1,1,1);const m=new BABYLON.StandardMaterial("sphereMat",e);m.diffuseColor=new BABYLON.Color3(1,0,0),m.emissiveColor=new BABYLON.Color3(.2,0,0),s.material=m,n=new BABYLON.GUI.StackPanel,n.width="90%",n.isVisible=!1,n.verticalAlignment=BABYLON.GUI.Control.VERTICAL_ALIGNMENT_BOTTOM,n.horizontalAlignment=BABYLON.GUI.Control.HORIZONTAL_ALIGNMENT_CENTER,n.paddingBottom="40px",n.spacing="20px",advancedTexture.addControl(n);const u=new BABYLON.GUI.TextBlock;u.text="Sphere Size: 1.0",u.height="40px",u.fontSize="24px",u.color="white",n.addControl(u);const l=new BABYLON.GUI.Slider;l.minimum=.1,l.maximum=3,l.value=1,l.height="40px",l.width="100%",l.color="green",l.background="grey",l.thumbWidth="40px",n.addControl(l),l.onValueChangedObservable.add(c=>{u.text="Sphere Size: "+c.toFixed(2),s.isVisible&&s.scaling.set(c,c,c)});let O;return g.onHitTestResultObservable.add(c=>{c.length?(o.isVisible=!0,O=c[0],O.transformationMatrix.decompose(void 0,o.rotationQuaternion,o.position)):(o.isVisible=!1,O=void 0)}),e.onPointerDown=()=>{if(O&&o.isVisible&&i.baseExperience.state===BABYLON.WebXRState.IN_XR){s.isVisible=!0,s.position.copyFrom(o.position),s.rotationQuaternion.copyFrom(o.rotationQuaternion);const c=l.value;s.scaling.set(c,c,c)}},e.onBeforeRenderObservable.add(()=>{o.isVisible=!0}),e}function L(t=""){var e=new BABYLON.GUI.Rectangle;return e.background="white",e.cornerRadius=20,e.alpha=.5,e.isPointerBlocker=!0,e.thickness=0,e}class v extends BABYLON.Mesh{#e;#t;constructor(e,r=L()){super(e);var a=new BABYLON.MeshBuilder.CreatePlane("",{height:.17,width:.2});this.#t=r,this.#e=BABYLON.GUI.AdvancedDynamicTexture.CreateForMesh(a),this.clone(a),this.#e.isBlocking=!0,this.#e.addControl(this.#t)}getDynamicTexture(){return this.#e}}class A extends BABYLON.GUI.Button{#e;#t;#n;constructor(e){super(e,e),this.#n=new BABYLON.GUI.TextBlock,this.#n.text=e,this.addControl(this.#n),this.heightInPixels=.1*window.screen.height,this.verticalAlignment=BABYLON.GUI.Control.VERTICAL_ALIGNMENT_BOTTOM,this.thickness=0,this.#e="transparent",this.#t="white",this.cornerRadius=20,this.alpha=.32,this.background=this.#e,this.onPointerOutObservable.add(()=>{this.background=this.#e}),this.onPointerEnterObservable.add(()=>{this.background=this.#t})}changeText(e){this.#n.text=e}}class B{constructor(e,r){this.pageFunction=e,this.name=r}}class N extends BABYLON.GUI.Rectangle{constructor(e,r,a){super(e),this.pages=r,this.gameEngine=a,this.name="name",this.currentPage=-1,this.thickness=0,this.cornerRadius=20,this.alpha=.32;var i=L();i.height=.08,i.verticalAlignment=BABYLON.GUI.Control.VERTICAL_ALIGNMENT_TOP;var n=new A("header","click to move");n.onPointerDownObservable.add(()=>{}),i.addControl(n),this.buttonContainer=L(),this.buttonContainer.width=.3,this.buttonContainer.horizontalAlignment=BABYLON.GUI.Control.HORIZONTAL_ALIGNMENT_LEFT,this.buttonContainer.height=.8,this.contentContainer=L(),this.contentContainer.width=.68,this.contentContainer.horizontalAlignment=BABYLON.GUI.Control.HORIZONTAL_ALIGNMENT_RIGHT,this.contentContainer.height=.8;var d=new BABYLON.GUI.StackPanel("MenuStack");for(let h=0;h<this.pages.length;h++){var g=new A(this.pages[h].name,this.pages[h].name);g.heightInPixels=90,g.onPointerUpObservable.add(()=>{this.navigation(0)}),d.addControl(g)}var o=new BABYLON.GUI.Grid("Grid");o.addControl(d),this.buttonContainer.addControl(o),this.addControl(i),this.addControl(this.buttonContainer),this.addControl(this.contentContainer)}navigation(e){this.currentPage!=e&&(this.currentPage=e,this.contentContainer.addControl(this.pages[e].pageFunction(this.gameEngine)))}}function p(t){var e=new BABYLON.GUI.StackPanel("MenuStack"),r=new BABYLON.GUI.Grid("Grid"),a=new A("test");a.onPointerUpObservable.add(function(){t.loadScene(f(t))});var i=new A("Bhabisya");i.onPointerUpObservable.add(function(){t.loadScene(f(t))});var n=new A("Adib");return e.addControl(a),e.addControl(i),e.addControl(n),r.addControl(e),r}class w{constructor(e,r){this.buttonFuncion=e,this.name=r}}function Y(t,e){var r=new BABYLON.GUI.HolographicSlate("Menu");e.addControl(r),r.minDimensions=new BABYLON.Vector2(5,5),r.dimensions=new BABYLON.Vector2(5,5),r.content=new N("tester",[new B(p,"Experiments Tab"),new B(p,"Experiments Tab"),new B(p,"Experiments Tab")],t)}function x(t,e){}function S(t,e){}function I(t,e){}function T(t,e){}function G(t,e){t.rows=t.buttons.length/2;for(let a=0;a<t.buttons.length;a++){var r=new BABYLON.GUI.TouchHolographicButton;r.text=t.buttons[a].name,r.onPointerUpObservable.add(()=>{t.buttons[a].buttonFuncion(e,t.getParent())}),t.addButton(r)}return t}class M extends BABYLON.GUI.NearMenu{constructor(e,r,a=[new w(Y,"Main Menu"),new w(x,"Selection"),new w(S,"Video Toggle"),new w(I,"Chat"),new w(T,"Instruction List")]){super(e),this.gameEngine=r,this.name=e,this.buttons=a,this.rows=a.length/2}getParent(){return this.parent}}async function E(t){const e=new BABYLON.Scene(t.getEngine()),r=new BABYLON.GUI.GUI3DManager(e);e.clearColor=new BABYLON.Color3(.7,.8,.7);var a=new BABYLON.FreeCamera("camera1",new BABYLON.Vector3(0,5,-5),e);a.minZ=.01,new BABYLON.HemisphericLight("light1",new BABYLON.Vector3(0,1,0),e),a.attachControl(t.getCanvas(),!0),a.speed=.4;var i=new BABYLON.StandardMaterial;i.backFaceCulling=!0;const n=new BABYLON.MeshBuilder.CreatePlane("",{height:4,width:5});var d=new BABYLON.UtilityLayerRenderer(e);d.utilityLayerScene.autoClearDepthAndStencil=!1;var g=new BABYLON.GUI.SlateGizmo(d);g.attachedMesh=n,g.fixedScreenSizeDistanceFactor=.2;var o=new BABYLON.SixDofDragBehavior,h=new BABYLON.MultiPointerScaleBehavior;new BABYLON.PointerDragBehavior({dragAxis:new BABYLON.Vector3(0,1,0)}),n.addBehavior(o),n.addBehavior(h),n.position=new BABYLON.Vector3(.2,0,0),i.alpha=0,i.diffuseColor=new BABYLON.Color3(.9,.3,.9),n.material=i;var s=BABYLON.GUI.AdvancedDynamicTexture.CreateForMesh(n);s.isBlocking=!0,s.addControl(new N("tester",[new B(p,"Experiments Tab"),new B(p,"Done Tab"),new B(p,"Experiments Tab")],t));var m=new v("bamne",new N("tester",[new B(p,"Experiments Tab"),new B(p,"Done Tab"),new B(p,"Experiments Tab")],t));m.position=new BABYLON.Vector3(1,5,0),r.useRealisticScaling=!0;var u=new M("one",t);return r.addControl(u),G(u,t),n.getClassName(),e}const C=document.getElementById("renderCanvas");if(!C)throw new Error("Canvas with id 'renderCanvas' not found.");class P{#e;#t;constructor(e){this.#e=e,this.#t=new BABYLON.Engine(this.#e,!0),this.currentScne=null}#n(e){e.then(r=>{r&&this.#t.runRenderLoop(()=>{r.render()})}),window.addEventListener("resize",()=>{this.#t.resize()})}renderUpdate(){this.currentScne.render()}loadScene(e){this.currentScne=e,this.#t.stopRenderLoop(),this.#n(e)}getEngine(){return this.#t}getCanvas(){return this.#e}}const b=new P(C);function y(){var t=E(b);b.loadScene(t)}function U(){y()}U();
